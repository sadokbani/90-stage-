<div style="margin-left: 20%; margin-right: 20%; margin-top: 5%">
  <mat-card>
    <mat-card-content>
      <button matTooltip=" Retour au liste des categories, toutes les modification seront perdues" routerLink="/categorie" style="margin-top: 15px; float: right;"  mat-raised-button><mat-icon>undo</mat-icon>
        </button>
    <form [formGroup]="angForm" novalidate>


      <div class="pb-1">
        <mat-form-field style="width: 100%">
          <input matInput placeholder="Nom" [(ngModel)] = "categorie.CategorieNom" type="text" [formControl]="angForm.controls['CategorieNom']">
          <mat-error *ngIf="angForm.controls['CategorieNom'].hasError('required') && angForm.controls['CategorieNom'].touched" class="mat-text-warn">  Le nom de la catégorie est requis.</mat-error>
        </mat-form-field>

      </div>

      <div class="pb-1">
        <mat-form-field style="width: 100%">

          <input matInput  placeholder="Description " [(ngModel)] = " categorie.CategorieDescription" type="text" [formControl]="angForm.controls['CategorieDescription']">
          <mat-error *ngIf="angForm.controls['CategorieDescription'].hasError('required') && angForm.controls['CategorieDescription'].touched" class="mat-text-warn">   La description de la catégorie est obligatoire.</mat-error>
        </mat-form-field>

      </div>



      <div class="pb-1">
        <mat-form-field style="width: 100%">
          <input matInput  placeholder="priorité de Categorie"  [(ngModel)] = "categorie.CategoriePriority" type="number" [formControl]="angForm.controls['CategoriePriority']">
          <mat-error *ngIf="angForm.controls['CategoriePriority'].hasError('required') && angForm.controls['CategoriePriority'].touched" class="mat-text-warn"> La priorité de catégorie est requise.</mat-error>
        </mat-form-field>

      </div>

      <div class="pb-1">
        <button mat-stroked-button type="button" (click)="filePicker.click()">Selectioner une image</button>
        <input placeholder="Image" type="file" class="form-control" hidden

               #filePicker (change)="onImagePicked($event)">

      </div>
      <div class="image-preview pb-1" *ngIf="imagePreview !== '' && imagePreview ">
        <img style="width: 150px;height: 100px" [src]="imagePreview" [alt]="angForm.value.title">
      </div>

      <div class="form-group">
        <button matTooltip=" Retour au liste des categories, toutes les modification seront perdues" routerLink="/categorie" style="margin-left: 5px; float: right;"  mat-raised-button>Annuler
        </button>
        <button  matTooltip="Vous allez modifier les informations de cette catégorie" style="float: right" (click) = "updateCategorie()" type="submit" mat-raised-button color="primary"
                [disabled]="angForm.invalid" >
          Modifier la categorie
        </button>
        <br>
      </div>
    </form>
    </mat-card-content>
  </mat-card>
</div>
